<!DOCTYPE html>
<html>
<head>
	<title>Web Socket</title>
</head>
<body>
	<script type="text/javascript">
		var sock = null;
		var wsuri = "ws://localhost:1234";

		window.onload = function() {

			console.log("onLoad");

			sock = new WebSocket(wsuri);
			sock.onopen = function() {
				console.log("connected to "+ wsuri);
			}

			sock.onclose = function(e) {
				console.log("connected closed ("+ e.code +")");
			}

			sock.onmessage = function(e) {
				console.log("message receive: "+ e.data);
			}
		};

		function send() {
			var msg = document.getElementById('message').value;
			console.log(msg)
			sock.send(msg);
		}
	</script>

	<h1>WebSocket Echo Test</h1>
	<form>
		<p>
			Message: <input id="message" type="text" value="" />
		</p>
	</form>
	<button onclick="send();">Send Message</button>
</body>
</html>